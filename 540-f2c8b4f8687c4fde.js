"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[540],{20540:function(e,t,l){l.d(t,{d:function(){return s},Z:function(){return z}});var a,s,n=l(57437),i=l(2265),o=l(10495),c=l(42586),r=l(39076);function d(e){return(0,n.jsx)(r.Z,{className:"w-full rounded-full border-2 border-white py-[16px] text-base font-semibold leading-5 text-white ".concat(e.selected?"":"border-opacity-20 hover:border-white hover:border-opacity-40"," ").concat(e.className),label:e.label,callback:e.onClick})}function x(e){let[t,l]=(0,i.useState)(e.startingAnswer),a=(0,c.useTranslations)("Onboarding");return(0,n.jsx)("div",{className:"flex w-full flex-row gap-[10px] ".concat(e.className),children:e.options.map(s=>{let i=s.content;return(0,n.jsx)(d,{onClick:()=>{l(s.id),e.onClick(s.id)},label:a(i.buttonLabel),selected:s.id===t},s.id)})})}var u=l(66484);function m(e){return(0,n.jsxs)("button",{className:"flex flex-col items-center gap-[7px] rounded-[20px] bg-white p-[7px] \n        ".concat(e.selected?"":"bg-opacity-10 hover:bg-white hover:bg-opacity-20","\n        ").concat(e.className),onClick:e.onClick,type:"button",children:[(0,n.jsxs)("div",{className:"relative aspect-square w-full overflow-hidden rounded-[20px] bg-gray-450",children:[(0,n.jsx)("img",{className:"h-full w-full object-contain",alt:e.text||"",src:e.image}),e.multipleChoice&&(0,n.jsx)(u.Z,{className:"absolute right-2 top-2 h-6 w-6 rounded-lg border-2 border-white border-opacity-20 p-0.5 \n              ".concat(e.selected?"bg-white stroke-black":"stroke-transparent")})]}),e.text&&(0,n.jsx)("span",{className:"text-center text-xs font-medium \n            ".concat(e.selected?"text-black":"text-white"),children:e.text})]})}function p(e){let{numberOfColumns:t=2,multipleChoice:l=!1,...a}=e,[s,o]=(0,i.useState)(new Set(a.startingAnswers)),r=(0,c.useTranslations)("Onboarding"),d=a.options.length,x=d%t==1,u=d-1;return(0,n.jsx)("div",{className:"grid w-full grid-cols-".concat(t," gap-[10px] ").concat(a.className),children:a.options.map((e,t)=>{let i=e.content;return(0,n.jsx)(m,{text:i.imageLabel?r(i.imageLabel):void 0,multipleChoice:l,onClick:()=>{var t;let n;t=e.id,l?(n=new Set(s)).has(t)?n.delete(t):n.add(t):n=new Set([t]),o(n),a.onOptionSelected(n)},selected:s.has(e.id),image:i.imagePath,className:t===u&&x?"col-span-2 mx-auto w-[calc(50%-5px)]":""},e.id)})})}function h(e){return(0,n.jsx)(r.Z,{className:"aspect-square h-[60px] rounded-[25px] border-2 border-white p-[18px] text-base font-semibold leading-5 text-white ".concat(e.selected?"":"border-opacity-20"),callback:e.onClick,label:e.label})}function f(e){let[t,l]=(0,i.useState)(e.startingAnswer);return(0,n.jsx)("div",{className:"flex w-full flex-row justify-between ".concat(e.className),children:e.ratings.map(a=>{let s=a.content;return(0,n.jsx)(h,{onClick:()=>{l(a.id),e.onItemClick(a.id)},label:s.rating,selected:a.id===t},a.id)})})}function b(e){return(0,n.jsxs)("button",{className:"flex w-full flex-row items-center gap-[15px] rounded-[25px] border-2 border-white p-[18px] font-semibold ".concat(e.selected?"border-opacity-100":"border-opacity-20 hover:border-white hover:border-opacity-40"),type:"button",onClick:e.onClick,children:[e.icon&&(0,n.jsx)("span",{className:"text-base",children:e.icon}),(0,n.jsx)("span",{className:"flex-1 text-left text-base font-semibold leading-5 text-white",children:e.text}),e.multipleChoice&&(0,n.jsx)(u.Z,{className:"h-4 stroke-white ".concat(e.selected?"":"hidden")})]})}function g(e){let{multipleChoice:t=!1,...l}=e,[a,s]=(0,i.useState)(new Set(l.startingAnswers)),o=(0,c.useTranslations)(l.translationNamespace);return(0,n.jsx)("div",{className:"flex w-full flex-col gap-[10px] ".concat(l.className),children:l.options.map(e=>{let i=e.content;return(0,n.jsx)(b,{text:o(i.text),multipleChoice:t,onClick:()=>{var n;let i;n=e.id,t?(i=new Set(a)).has(n)?i.delete(n):i.add(n):i=new Set([n]),s(i),l.onOptionSelected(i)},selected:a.has(e.id),icon:i.emoji},e.id)})})}var w=l(96857),j=l(26019);function v(e){return(0,n.jsxs)("button",{className:"flex flex-col items-center gap-[15px] rounded-[20px] border-2 bg-white\n        ".concat(e.selected?"border-white bg-opacity-20":"border-transparent bg-opacity-15"),onClick:e.onClick,type:"button",children:[e.text&&(0,n.jsx)("span",{className:"w-full px-5 pt-4 text-start font-semibold leading-[23px] text-white ".concat(e.selected?"text-black":"text-white"),children:e.text}),(0,n.jsx)("img",{className:"relative min-h-[140px] w-auto rounded-2xl object-cover",alt:e.text||"",src:e.image})]})}var N=l(43714);function y(e){return(0,n.jsxs)("button",{className:"flex flex-col items-center gap-[15px] rounded-[20px] bg-white p-[10px] ".concat(e.selected?"":"bg-opacity-10"),onClick:e.onClick,type:"button",children:[(0,n.jsxs)("div",{className:"relative w-full overflow-hidden rounded-2xl bg-gray-450",children:[(0,n.jsx)("img",{className:"min-h-[140px] w-auto object-contain",alt:e.text||"",src:e.image}),(0,n.jsx)(u.Z,{className:"absolute right-2 top-2 h-6 w-6 rounded-full border-2 border-white border-opacity-20 p-0.5 ".concat(e.selected?"bg-white stroke-black":"stroke-transparent")})]}),e.text&&(0,n.jsxs)("div",{className:"flex w-full flex-row items-center px-[10px] pb-[5px]",children:[(0,n.jsx)("span",{className:"w-full text-start text-base font-medium leading-5 ".concat(e.selected?"text-black":"text-white"),children:e.text}),(0,n.jsx)(N.Z,{className:"stroke-gray-300"})]})]})}function k(e){let{multipleChoice:t=!1,needsCTAConfirmation:l=!1,...a}=e,[s,o]=(0,i.useState)(new Set(a.startingAnswers)),r=(0,c.useTranslations)("Onboarding");function d(e){let l;t?(l=new Set(s)).has(e)?l.delete(e):l.add(e):l=new Set([e]),o(l),a.onOptionSelected(l)}return(0,n.jsx)("div",{className:"flex w-full flex-col gap-[10px] ".concat(a.className),children:a.options.map(e=>{let t=e.content;return l?(0,n.jsx)(v,{text:t.imageLabel?r(t.imageLabel):void 0,onClick:()=>{d(e.id)},selected:s.has(e.id),image:t.imagePath},e.id):(0,n.jsx)(y,{text:t.imageLabel?r(t.imageLabel):void 0,onClick:()=>{d(e.id)},selected:s.has(e.id),image:t.imagePath},e.id)})})}var C=l(60647),P=l(55961),I=l(5097),S=l(22244),Z=l(81133),L=l(21041),F=l(84358),R=l(33588);function O(e){let{isRevealed:t,leftImagePath:l,leftBadge:a,rightVideoPath:s,rightImagePath:i,rightBadge:o,videoRef:r}=e,d=(0,c.useTranslations)("Onboarding");return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"mb-1 flex h-[15px] flex-col items-center",children:(0,n.jsx)(R.Z,{})}),(0,n.jsxs)("div",{className:"relative flex h-fit w-full justify-between gap-3 px-5",children:[(0,n.jsx)("div",{className:"flex flex-1 items-center",children:(0,n.jsx)("img",{alt:"Left",className:"w-full rounded-[25px] object-contain",src:l})}),(0,n.jsx)("div",{className:"flex flex-1 items-center",children:(0,n.jsxs)("div",{className:"relative h-full w-full overflow-hidden rounded-[25px]",children:[(0,n.jsx)("video",{ref:r,src:s,className:"absolute left-0 top-0 h-full w-full object-contain transition-opacity duration-500 ".concat(t?"opacity-0":"opacity-100"),controls:!1,playsInline:!0,muted:!0}),(0,n.jsx)("img",{alt:"Right",className:"absolute left-0 top-0 h-full w-full object-contain transition-opacity duration-500 ".concat(t?"opacity-100":"opacity-0"),src:i})]})})]}),(0,n.jsxs)("div",{className:"mt-2 flex w-full justify-between gap-3 px-5",children:[(0,n.jsx)("div",{className:"flex flex-1 justify-center",children:a&&(0,n.jsx)("div",{className:"text text-white",children:(0,n.jsx)("div",{className:"h-fit w-fit rounded-full bg-white bg-opacity-10 px-3 py-2 text-xs font-medium",children:d(a)})})}),(0,n.jsx)("div",{className:"flex flex-1 justify-center",children:o&&(0,n.jsx)("div",{className:"text text-white",children:(0,n.jsx)("div",{className:"h-fit w-fit rounded-full bg-white bg-opacity-10 px-3 py-2 text-xs font-medium",children:d(o)})})})]})]})}function A(e){let{isRevealed:t,videoPath:l,finalImagePath:a,videoRef:s}=e;return(0,n.jsx)("div",{className:"flex h-full w-full flex-1 items-center px-5",children:(0,n.jsxs)("div",{className:"relative h-[280px] w-full overflow-hidden rounded-[25px]",children:[(0,n.jsx)("video",{ref:s,src:l,className:"absolute left-0 top-0 z-10 h-[280px] w-full object-cover transition-opacity duration-500 ".concat(t?"opacity-0":"opacity-100"),controls:!1,playsInline:!0,muted:!0}),(0,n.jsx)("img",{alt:"Right",className:"absolute left-0 top-0 z-20 h-[280px] w-full object-cover transition-opacity duration-500 ".concat(t?"opacity-100":"opacity-0"),src:a})]})})}function T(e){let{isRevealed:t,startingImagePath:l,finalImagePath:a}=e;return(0,n.jsx)("div",{className:"h-full w-full px-5",children:(0,n.jsxs)("div",{className:"relative flex h-full w-full flex-col overflow-hidden rounded-[25px]",children:[(0,n.jsx)("img",{alt:"starting pic",className:"absolute left-0 top-0 h-full w-full flex-1 object-contain transition-opacity duration-500 ".concat(t?"opacity-0":"opacity-100"),src:l}),(0,n.jsx)("img",{alt:"final result",className:"absolute left-0 top-0 h-full w-full flex-1 object-contain transition-opacity duration-500 ".concat(t?"opacity-100":"opacity-0"),src:a})]})})}function B(e){let{isRevealed:t,onReveal:l,concealedCta:a,content:s,revealedCta:r,onFinish:d,className:x}=e,u=(0,c.useTranslations)("Onboarding"),[m,p]=(0,i.useState)(!1),h=(0,i.useRef)(null);(0,i.useEffect)(()=>{let e=h.current;if(e){let t=()=>{l(),p(!1)};return m||e.load(),e.addEventListener("ended",t),()=>{e.removeEventListener("ended",t)}}},[m,l]);let f=()=>{h.current?(h.current.play(),p(!0)):l()},b=(()=>{switch(s.style){case o.Mh.Image:return(0,n.jsx)(T,{isRevealed:t,startingImagePath:s.startingImagePath,finalImagePath:s.finalImagePath});case o.Mh.Video:return(0,n.jsx)(A,{isRevealed:t,videoRef:h,finalImagePath:s.finalImagePath,videoPath:s.videoPath});case o.Mh.ComparisonVideo:return(0,n.jsx)(O,{isRevealed:t,leftImagePath:s.left.imagePath,leftBadge:s.left.text,rightVideoPath:s.right.videoPath,rightImagePath:s.right.imagePath,rightBadge:s.right.text,videoRef:h})}})();return(0,n.jsxs)("div",{className:"mx-auto flex h-full w-full max-w-415 flex-col items-center ".concat(x),children:[b,(!t||r)&&(0,n.jsxs)("div",{className:"sticky bottom-0 flex w-full flex-1 flex-col justify-end",children:[(0,n.jsx)("div",{className:"z-40 h-10 w-full bg-gradient-to-b from-transparent to-black"}),(0,n.jsxs)("div",{className:"bg-black px-5 pb-5",children:[!t&&r&&(0,n.jsx)(L.Z,{onClick:f,label:u(a),enabled:!m}),!t&&!r&&(0,n.jsx)(F.Z,{onClick:f,label:u(a),enabled:!m}),t&&r&&(0,n.jsx)(F.Z,{enabled:!0,onClick:()=>{d&&d()},label:u(r)})]})]})]})}function z(e){let t,l,a,{stepContent:s,onSingleAnswerSelected:c,onMultipleAnswersSelected:r,startingAnswers:d,className:u,nextQuestionVideoPath:m,currentlyUploadedImages:h,onUploadedImagesChange:b,shouldShowUploadExamples:v,shouldShowBlurredUploadedImage:N,textListTranslationNamespace:y="Onboarding",numberPhotosUpload:L,maxNumberPhotosUpload:F,isReminiWeb:R,isContentRevealed:O,onContentReveal:A,onUploadRequested:T,uploadBlockedByConsent:z,uploadExamplesPosition:E,uploadEnabled:U}=e,[q,K]=(0,i.useState)(!0);((0,w.KX)(s)||(0,w.gb)(s))&&(l=s.imagePath,a=s.videoPath);let M=!!(0,w.gb)(s)&&s.loopVideo,V=!1,X=[];(0,w.Cq)(s)&&(((0,w.KX)(s)||(0,w.et)(s)&&O)&&((0,w.e2)(s)?t=o.FP.PlainText:(0,w.Px)(s)?t=o.FP.ImagesList:(0,w.K1)(s)?t=o.FP.ImagesListConfirm:(0,w.Bo)(s)?t=o.FP.ImagesGrid:(0,w.wm)(s)?t=o.FP.Rating:(0,w.A$)(s)&&(t=o.FP.YesNo)),(0,w.KX)(s)?(V=(0,w.Rx)(s),X=s.answers):(0,w.et)(s)&&O&&s.revealed.answers&&(X=s.revealed.answers));let _=(()=>{var e,l;switch(t){case o.FP.ImagesList:case o.FP.ImagesListConfirm:return(0,n.jsx)(k,{options:X,startingAnswers:d,onOptionSelected:V||t===o.FP.ImagesListConfirm?r:c,multipleChoice:V,needsCTAConfirmation:t===o.FP.ImagesListConfirm,className:"px-5 pb-10"});case o.FP.ImagesGrid:return(0,n.jsx)(p,{options:X,numberOfColumns:X.length>6?3:2,startingAnswers:d,onOptionSelected:V?r:c,multipleChoice:V,className:"max-w-415 px-5 pb-10 ".concat(X.length<=2?"pt-10":"")});case o.FP.PlainText:return(0,n.jsx)(g,{options:X,startingAnswers:d,onOptionSelected:V?r:c,multipleChoice:V,translationNamespace:y,className:"px-5"});case o.FP.Rating:return(0,n.jsxs)("div",{className:"sticky bottom-0 z-40 flex w-full flex-1 flex-col justify-end",children:[(0,n.jsx)("div",{className:"z-40 h-10 w-full bg-gradient-to-b from-transparent to-black"}),(0,n.jsx)("div",{className:"bg-black px-5 pb-5",children:(0,n.jsx)(f,{onItemClick:e=>{void 0!==c&&c(new Set([e]))},startingAnswer:null!==(e=d[0])&&void 0!==e?e:"",ratings:X})})]});case o.FP.YesNo:return(0,n.jsxs)("div",{className:"sticky bottom-0 z-40 flex w-full max-w-415 flex-1 flex-col justify-end",children:[!R&&(0,n.jsx)("div",{className:"z-50 h-12 w-full bg-gradient-to-b from-transparent to-black"}),(0,n.jsx)("div",{className:"px-5 pb-5 ".concat(!R&&"bg-black"),children:(0,n.jsx)(x,{onClick:e=>{void 0!==c&&c(new Set([e]))},startingAnswer:null!==(l=d[0])&&void 0!==l?l:"",options:X})})]})}})();if((0,w.XT)(s)){var Y,G;return(0,n.jsxs)(n.Fragment,{children:[v&&"top"===E&&(null!==(Y=h.length)&&void 0!==Y?Y:0)<(null!=L?L:1)&&(0,n.jsx)(Z.Z,{}),(null!=L?L:1)>1?(0,n.jsx)(I.Z,{numberPhotosUpload:null!=L?L:4,maxNumberPhotosUpload:null!=F?F:8,currentlyUploadedImages:h,onUploadRequested:T,uploadBlockedByConsent:z,onUploadedImagesChange:b,pickPhotosButtonEnabled:"bottom"===E,uploadEnabled:U}):(0,n.jsx)(S.Z,{currentlyUploadedImages:h,onUploadRequested:T,uploadBlockedByConsent:z,onUploadedImagesChange:b,shouldShowBlurredUploadedImage:N,uploadEnabled:U}),v&&"bottom"===E&&(null!==(G=h.length)&&void 0!==G?G:0)<(null!=L?L:1)&&(0,n.jsx)(Z.Z,{})]})}return(0,n.jsxs)("div",{className:"flex h-full w-full flex-col items-center ".concat(u),children:[(0,w.et)(s)&&(0,n.jsx)(B,{isRevealed:O||!1,onReveal:A||(()=>{}),content:s.subject,concealedCta:s.concealed.cta,revealedCta:s.revealed.cta,onFinish:()=>null==c?void 0:c(new Set([""]))}),(0,w.Nq)(s)&&(0,n.jsx)("div",{className:"px-5",children:(0,n.jsx)(P.Z,{beforeSrc:s.beforeImagePath,afterSrc:s.afterImagePath,showDownloadButton:!1,showTooltip:!0,className:"!h-[335px]"})}),(0,w.QA)(s)&&(0,n.jsx)("div",{className:"px-5",children:(0,n.jsx)(C.Z,{style:C.r.Onboarding,sliderImages:s.imagesPath,emojiStart:s.emojiStart,emojiEnd:s.emojiEnd})}),l&&(0,n.jsxs)("div",{className:"relative flex w-full flex-col items-center",children:[(0,n.jsx)("img",{className:"mx-5 h-[280px] w-auto animate-fade object-contain",src:l,onLoad:()=>K(!1),alt:(0,w.YQ)(s,O)}),q&&(0,n.jsx)(j.Z,{className:"absolute left-1/2 top-1/2 z-0 ml-[-22.5px] mt-[-22.5px] h-[45px] w-[45px] bg-transparent"})]}),a&&(0,n.jsxs)("div",{className:"relative h-[280px] w-full items-center px-5",children:[(0,n.jsx)("div",{className:"z-50 mx-auto flex h-[280px] w-full flex-col items-center overflow-hidden rounded-[20px]",children:(0,n.jsx)("video",{height:"100%",width:"0",preload:"auto",autoPlay:!0,muted:!0,playsInline:!0,controls:!1,onCanPlayThrough:()=>K(!1),loop:M,className:"z-0 h-full w-auto max-w-none animate-fade rounded-[20px]",src:a})}),q&&(0,n.jsx)(j.Z,{className:"absolute left-1/2 top-1/2 z-0 ml-[-22.5px] mt-[-22.5px] h-[45px] w-[45px] bg-transparent"})]}),m&&(0,n.jsx)("div",{className:"hidden",children:(0,n.jsx)("video",{height:"100%",width:"0",preload:"auto",muted:!0,src:m})}),_]})}(a=s||(s={})).Top="top",a.Bottom="bottom"},21041:function(e,t,l){l.d(t,{Z:function(){return n}});var a=l(57437),s=l(39076);function n(e){var t,l;return(0,a.jsx)(s.Z,{className:"w-full rounded-full border-2 border-white border-opacity-20 bg-transparent px-[25px] py-[18px] text-base font-semibold tracking-tight text-white",callback:e.onClick,label:null!==(t=e.label)&&void 0!==t?t:"",rightIcon:e.rightIcon,enabled:null===(l=e.enabled)||void 0===l||l})}},66484:function(e,t,l){l.d(t,{Z:function(){return s}});var a=l(57437);function s(e){let{className:t}=e;return(0,a.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:t,children:(0,a.jsx)("path",{d:"M13.0711 3.92893L6 11L2.46447 7.46447",strokeWidth:"2"})})}}}]);